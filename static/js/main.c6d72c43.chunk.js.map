{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Loader/LoaderComponent.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","API/pixabay-api.js","components/Button/Button.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImageURL","tags","createPortal","className","s","Overlay","onClick","src","alt","Component","Searchbar","state","searchName","page","handleInputChange","setState","value","toLowerCase","handleFormSubmit","preventDefault","trim","submit","toast","error","SearchForm","onSubmit","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","name","onChange","API_KEY","BASE_URL","query","a","fetch","response","ok","json","Promise","reject","Error","api","imageAPI","Button","OnClick","children","ImageGalleryItem","id","webformatURL","onOpenModal","ImageGalleryItem__image","LoaderComponent","loader","color","height","width","ImageGallery","images","loading","loadMore","toggleLoader","API","then","image","hits","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","catch","prevProps","prevState","prevName","nextName","length","map","index","App","showModal","handleSubmit","dataset","source","toggleModal","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c6d72c43.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__QgR4R\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__hv8C_\",\"ImageGalleryItem__image\":\"ImageGallery_ImageGalleryItem__image__1diXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1TNFS\",\"Modal\":\"Modal_Modal__3EXXB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2AABv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderComponent_loader__1mBph\"};","import s from \"../Modal/Modal.module.css\";\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    const { tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport s from \"../Searchbar/Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchName: \"\",\r\n    page: 1,\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ searchName: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.searchName.trim() === \"\") {\r\n      toast.error(\"empty string\");\r\n      return;\r\n    }\r\n    this.props.submit(this.state.searchName);\r\n    this.setState({ searchName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { searchName } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleFormSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"searchName\"\r\n            value={searchName}\r\n            onChange={this.handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","const API_KEY = \"22939354-d4c9986b85a6f5174d41c17d7\";\r\nconst BASE_URL = \"https://pixabay.com/api/?\";\r\n\r\nasync function imageAPI(query, page) {\r\n  const response = await fetch(\r\n    `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return await Promise.reject(new Error(`no images on request`));\r\n}\r\nconst api = { imageAPI };\r\nexport default api;\r\n","import s from \"../Button/Button.module.css\";\r\n\r\nexport default function Button({ OnClick, children }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={OnClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"../ImageGallery.module.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  id,\r\n  tags,\r\n  webformatURL,\r\n  largeImageURL,\r\n  onOpenModal,\r\n}) {\r\n  return (\r\n    <li key={id} className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-alt={tags}\r\n        data-source={largeImageURL}\r\n        className={s.ImageGalleryItem__image}\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"../Loader/LoaderComponent.module.css\";\r\n\r\nexport default function LoaderComponent() {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\nimport API from \"../../API/pixabay-api\";\r\nimport Button from \"../Button\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport LoaderComponent from \"../Loader/Loader\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"../ImageGallery/ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    searchName: \"\",\r\n    error: null,\r\n    loading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page } = this.state;\r\n    const prevName = prevProps.searchName;\r\n    const nextName = this.props.searchName;\r\n\r\n    if (prevName !== nextName) {\r\n      this.toggleLoader();\r\n      API.imageAPI(nextName, page)\r\n        .then((image) => {\r\n          if (image.hits.length === 0) {\r\n            toast.error(\"No images found on your query\");\r\n          }\r\n          this.setState({\r\n            images: image.hits,\r\n            page: 1,\r\n            searchName: nextName,\r\n          });\r\n          this.toggleLoader();\r\n        })\r\n        .catch(this.setState({ error: \"no images on request\" }));\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    const { searchName, page } = this.state;\r\n\r\n    this.toggleLoader();\r\n\r\n    API.imageAPI(searchName, page + 1)\r\n      .then((image) => {\r\n        this.setState(({ images, page }) => ({\r\n          images: [...images, ...image.hits],\r\n          page: page + 1,\r\n        }));\r\n        this.toggleLoader();\r\n\r\n        if (page >= 1) {\r\n          setTimeout(() => {\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: \"smooth\",\r\n            });\r\n          }, 800);\r\n        }\r\n      })\r\n      .catch(this.setState({ error: \"no images on request\" }));\r\n  };\r\n\r\n  toggleLoader = () => {\r\n    this.setState(({ loading }) => ({\r\n      loading: !loading,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { images, loading } = this.state;\r\n    const { onOpenModal } = this.props;\r\n    return (\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map(({ tags, webformatURL, largeImageURL }, index) => {\r\n            return (\r\n              <ImageGalleryItem\r\n                key={index}\r\n                tags={tags}\r\n                webformatURL={webformatURL}\r\n                largeImageURL={largeImageURL}\r\n                onOpenModal={onOpenModal}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        {loading && <LoaderComponent />}\r\n        {images.length >= 12 && (\r\n          <Button OnClick={this.loadMore} children={\"Show more\"} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Modal from \"./components/Modal\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    searchName: \"\",\n    largeImageURL: \"\",\n    tags: \"\",\n    showModal: false,\n  };\n  handleSubmit = (searchName) => {\n    this.setState({ searchName });\n  };\n\n  onOpenModal = (e) => {\n    this.setState({\n      largeImageURL: e.target.dataset.source,\n      tags: e.target.dataset.alt,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { showModal, largeImageURL, tags } = this.state;\n\n    return (\n      <div>\n        <Searchbar submit={this.handleSubmit} />\n        <ImageGallery\n          onOpenModal={this.onOpenModal}\n          searchName={this.state.searchName}\n        />\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2lf5g\",\"SearchForm\":\"Searchbar_SearchForm__1yFnl\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1E6e9\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__2gVfK\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2UMad\"};"],"sourceRoot":""}